---

copyright:
  years: 2023
lastupdated: "2023-12-13"

keywords: Enabling event notifications OpenPages, IBM Cloud,

subcollection: openpages

---

{{site.data.keyword.attribute-definition-list}}

<!--Include your file in the How to nav group in your toc.yaml file.-->

# Enabling event notifications for {{site.data.keyword.openpages_short}}
{: #event-notifications-events}

<!-- The title of your H1 should be Enabling event notifications for _service-name_, where _service-name_ is the non-trademarked short version conref. -->

As an administrator of {{site.data.keyword.openpages_short}}, you might want to send notifications of events in {{site.data.keyword.openpages_short}} to other users, or human destinations, by using email, SMS, or other supported delivery channels. Additionally, you might want to send these notifications of events to other applications to build logic by using event-driven programming that uses webhooks, for example. This is made possible by the integration between {{site.data.keyword.openpages_short}} and {{site.data.keyword.en_full}}.
{: shortdesc}

To send information to {{site.data.keyword.en_short}}, you must connect your {{site.data.keyword.openpages_short}} instance to {{site.data.keyword.en_short}}. For more information about working with {{site.data.keyword.en_short}}, see [Getting started with {{site.data.keyword.en_short}}](/docs/event-notifications?topic=event-notifications-getting-started).

## How events are collected and sent by {{site.data.keyword.openpages_short}}
{: #event-notifications-how}

When an event of interest takes place in your {{site.data.keyword.openpages_short}} instance, {{site.data.keyword.openpages_short}} communicates with a connected {{site.data.keyword.en_short}} instance to forward a notification to a [supported destination](/docs/event-notifications?topic=event-notifications-en-destination).

<!--
_List any additional detail about how your service collects events, the timing for checking for events, etc. that is specific to your service. Add a couple of example event types here to help the user know what to expect before they dive into the table below. See this example from Secrets Manager: https://test.cloud.ibm.com/docs/secrets-manager?topic=secrets-manager-event-notifications&interface=ui#event-notifications-how_-->

## Events for {{site.data.keyword.openpages_short}}
{: #event-notifications-list}

The following table lists the {{site.data.keyword.openpages_short}} events. All events are under the `com.ibm.cloud.openpages.event` subtype.

<!-- add a column for subtype, if you have need that level of detail -->

| Event type                                  | Description |
|------------------------------------------|---------|
| `com.ibm.cloud.openpages.event`           | An event is generated when you provision a service instance. |
{: caption="Table 1. Actions that generate event notifications" caption-side="bottom"}

## Enabling notifications
{: #event-notifications-enable}

Events that are generated by an instance of the {{site.data.keyword.openpages_short}} service can be forwarded to an {{site.data.keyword.en_short}} service instance that is available in the same account. You can configure only one {{site.data.keyword.openpages_short}} instance to one {{site.data.keyword.en_short}} service instance.

### Adding an {{site.data.keyword.en_short}} service instance
{: #event-notifications-add-service}

Before you can enable notifications for {{site.data.keyword.openpages_short}}, add an [{{site.data.keyword.en_short}} service instance](/catalog/services/event-notifications){: external} to the same account as your {{site.data.keyword.openpages_short}} instance.

1. Go to the UI where you manage your {{site.data.keyword.openpages_short}} instance. For more information, see [Managing your {{site.data.keyword.openpages_short}} instance](/docs/openpages?topic=openpages-manage_op_instance).
2. Click **Settings**.
3. In the {{site.data.keyword.en_short}} section, and click **Connect**.
4. Expand **Before you begin**.
5. Click **Create new instance**.
6. On the Event Notifications Pricing page, select a plan, click the checkbox to agree to the license agreement, and then click **Create**.

### Connecting to {{site.data.keyword.en_short}} in the UI
{: #event-notifications-enable-ui}
{: ui}

Connect {{site.data.keyword.openpages_short}} to the  {{site.data.keyword.en_short}} service instance by using **Settings > Event Notifications** section in the {{site.data.keyword.openpages_short}} UI to connect the services.

<!-- There is a common component that is used by service dev teams to allow connections from the source service (your service) to Event Notifications, which is what the preceding sentence is referring to. Add a screen capture of this location if you'd like. If for some reason your service does not have this capability, then you should link to the Event Notifications docs for the how to steps for connecting from Event Notifications to your service-->

1. Go to the UI where you manage your {{site.data.keyword.openpages_short}} instance. For more information, see [Managing your {{site.data.keyword.openpages_short}} instance](/docs-draft/openpages?topic=openpages-manage_op_instance).
2. In the {{site.data.keyword.openpages_short}} navigation, click **Settings**.
3. In the {{site.data.keyword.en_short}} section, click **Connect**.
4. In the **Event Notification instances** section, click **Event Notifications service instance** and select the {{site.data.keyword.en_short}} that you created.
5. To confirm the connection, click **Save**.
   The Event Notifications section shows the connection between the {{site.data.keyword.openpages_short}} instance and the Event Notifications instance.
6. You can verify that a topic and subscription are created for your {{site.data.keyword.openpages_short}} instance in the **Event Notification** settings by clicking on the **Review** link.

Your {{site.data.keyword.openpages_short}} instance is ready to send notifications.

### Connecting to {{site.data.keyword.en_short}} with the API
{: #event-notifications-enable-api}
{: api}

Before you can enable notifications for {{site.data.keyword.openpages_short}}, be sure that you have an [{{site.data.keyword.en_short}} service instance](/catalog/services/event-notifications){: external} that is in the same account as your {{site.data.keyword.openpages_short}} instance. Then, you can connect to {{site.data.keyword.en_short}} programmatically by calling the {{site.data.keyword.openpages_short}} API.

The following example shows a query that you can use to register your {{site.data.keyword.openpages_short}} source details with {{site.data.keyword.en_short}}. When you call the API, replace the ID variables and IAM token with the values that are specific to your {{site.data.keyword.openpages_short}} instance.
{: curl}

You can find the `event_notifications_instance_crn` value in the UI by going to the Resource list page and clicking the {{site.data.keyword.en_short}} instance row.
{: tip}

<!-- The following example is pulled from Secrets Manager. Work with your dev team to ensure that you have the correct example for your service. -->

```sh
curl -X POST "https://{instance_id}.{region}.openpages.appdomain.cloud/api/v1/notifications/registration" \
    -H "Authorization: Bearer $IAM_TOKEN" \
    -H "Accept: application/json" \
    -H "Content-Type: application/json" \
    -d '{
          "event_notifications_instance_crn": "crn:v1:bluemix:public:event-notifications:<region>:a/<account-id>:<service-instance>::",
          "event_notifications_source_name": "my-openpages",
          "event_notifications_source_description": "Optional description of this source in Event Notifications."
        }'
```
{: codeblock}
{: curl}

A successful response returns the CRN value of your connected {{site.data.keyword.en_short}} service instance. For more information about the equired and optional request parameters, see the [API docs](/apidocs/openpages).

## Delivering notifications to select destinations
{: #event-notifications-destinations}

After you enable notifications for {{site.data.keyword.openpages_short}}, create topics and subscriptions in {{site.data.keyword.en_short}} so that alerts can be forwarded and delivered.

{{site.data.keyword.openpages_short}} notifications are in HTML format and are intended for the email delivery channel.

<!--
For a complete list of supported destinations, see the [{{site.data.keyword.en_short}} documentation](/docs/event-notifications?topic=event-notifications-en-destination).
{: tip}
-->

### Email notifications
{: #event-notifications-email}

You can use the [{{site.data.keyword.cloud_notm}} email service](/docs/event-notifications?topic=event-notifications-en-destinations-email) as a delivery channel for {{site.data.keyword.openpages_short}} event notifications. [Create an {{site.data.keyword.en_short}} subscription](/docs/event-notifications?topic=event-notifications-en-create-en-subscription) between an existing topic and the {{site.data.keyword.cloud_notm}} email service to forward your alerts to various recipients by email.
<!--
To receive detailed information about an event notification in your email, select the **Add notification payload** option when you create an {{site.data.keyword.en_short}} subscription. Your email displays the [notification payload details](#event-notifications-payload) that are associated with the event.
{: tip}
-->

<!--
### Webhooks
{: #event-notifications-webhook}

You can configure a webhook destination so that an incoming notification can be consumed programmatically by an app or service. For more information about setting up webhooks, check out the [{{site.data.keyword.en_short}} documentation](/docs/event-notifications?topic=event-notifications-en-destinations-webhook).
-->
<!--
## Notification payload details
{: #event-notifications-payload}

OpenPages team: if we need to provide this info in future, get it from the event notification teamplate
-->
